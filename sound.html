<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

        <title>Js-games-engine by manix84 &gt; Ticker Module Example</title>

        <link rel="stylesheet" href="stylesheets/styles.css">
        <link rel="stylesheet" href="stylesheets/pygment_trac.css">
        <link rel="stylesheet" href="stylesheets/prettify.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src='http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js' type='text/javascript'></script>
        <script src="javascripts/respond.js"></script>
        <!--[if lt IE 9]>
            <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <!--[if lt IE 8]>
        <link rel="stylesheet" href="stylesheets/ie.css">
        <![endif]-->
        <script src="javascripts/require.js"></script>
        <script type='text/javascript'>
            $(document).ready(function () {
                prettyPrint();
            });

            require({
                baseUrl: 'javascripts/'
            });
        </script>
    </head>
    <body>
        <div id="header">
            <nav>
                <li class="fork"><a href="https://github.com/manix84/js-games-engine">View On GitHub</a></li>
                <li class="downloads"><a href="https://github.com/manix84/js-games-engine/zipball/master">ZIP</a></li>
                <li class="downloads"><a href="https://github.com/manix84/js-games-engine/tarball/master">TAR</a></li>
                <li class="title">DOWNLOADS</li>
            </nav>
        </div><!-- end header -->

        <div class="wrapper">
            <section>
                <div id="title">
                    <h1>Js-games-engine</h1>
                    <p>Simple JavaScript games engine.</p>
                    <h2>Ticker Module Example</h2>
                    <hr>
                    <span class="credits left">Project maintained by <a href="https://github.com/manix84">manix84</a></span>
                    <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></span>
                </div>
                <ul>
                    <li><a href="index.html">back</a></li>
                </ul>

                <script>
                    require([
                        'ticker'
                    ], function (Ticker) {
                        $(document).ready(function () {
                            var stats = {
                                highest: 0,
                                lowest: 9999,
                                average: 0,
                                stack: []
                            },
                            that = this;
                            this.fps_ticker = new Ticker(function (obj) {
                                var fps = Math.round(obj.actualFps);
                                stats.highest = (stats.highest > fps ? stats.highest : fps);
                                stats.lowest = (stats.lowest < fps ? stats.lowest : fps);
                                stats.stack.push(fps);

                                stats.average = 0;
                                for (var i = 0; i < stats.stack.length; i++) {
                                    stats.average += stats.stack[i];
                                }
                                stats.average = Math.round(stats.average / stats.stack.length);

                                document.getElementById('fps').innerHTML = fps;
                                document.getElementById('highest').innerHTML = stats.highest;
                                document.getElementById('lowest').innerHTML = stats.lowest;
                                document.getElementById('average').innerHTML = stats.average;
                            });

                            $('#start_fps_tracking').click(function () {
                                that.fps_ticker.start()
                            });
                            $('#stop_fps_tracking').click(function () {
                                that.fps_ticker.stop()
                            });
                            $('#clear_fps_tracking').click(function () {
                                that.fps_ticker.stop();
                                stats = {
                                    highest: 0,
                                    lowest: 9999,
                                    average: 0,
                                    stack: []
                                }
                                document.getElementById('fps').innerHTML = '';
                                document.getElementById('highest').innerHTML = '';
                                document.getElementById('lowest').innerHTML = '';
                                document.getElementById('average').innerHTML = '';
                            });
                        });
                    });
                </script>
                <h3>Basic Framerate Test</h3>
                <h4>Code in Action:</h4>
                <div>
                    <div>Current FPS: <span id='fps'></span></div>
                    <div>Highest FPS: <span id='highest'></span></div>
                    <div>Lowest FPS: <span id='lowest'></span></div>
                    <div>Average FPS: <span id='average'></span></div>
                </div>
                <br />
                <div>
                    <button id='start_fps_tracking'>Start</button>
                    <button id='stop_fps_tracking'>Stop</button>
                    <button id='clear_fps_tracking'>Clear</button>
                </div>
                <br /><br />

                <h4>Example Code:</h4>
                <pre class='prettyprint prettyprinted' id='javascript'>require([
    'ticker'
], function (Ticker) {
    $(document).ready(function () {
        var stats = {
            highest: 0,
            lowest: 9999,
            average: 0,
            stack: []
        },
        that = this;
        this.fps_ticker = new Ticker(function (obj) {
            var fps = Math.round(obj.actualFps);
            stats.highest = (stats.highest > fps ? stats.highest : fps);
            stats.lowest = (stats.lowest < fps ? stats.lowest : fps);
            stats.stack.push(fps);

            stats.average = 0;
            for (var i = 0; i < stats.stack.length; i++) {
                stats.average += stats.stack[i];
            }
            stats.average = Math.round(stats.average / stats.stack.length);

            document.getElementById('fps').innerHTML = fps;
            document.getElementById('highest').innerHTML = stats.highest;
            document.getElementById('lowest').innerHTML = stats.lowest;
            document.getElementById('average').innerHTML = stats.average;
        });

        $('#start_fps_tracking').click(function () {
            that.fps_ticker.start()
        });
        $('#stop_fps_tracking').click(function () {
            that.fps_ticker.stop()
        });
        $('#clear_fps_tracking').click(function () {
            that.fps_ticker.stop();
            stats = {
                highest: 0,
                lowest: 9999,
                average: 0,
                stack: []
            }
            document.getElementById('fps').innerHTML = '';
            document.getElementById('highest').innerHTML = '';
            document.getElementById('lowest').innerHTML = '';
            document.getElementById('average').innerHTML = '';
        });
    });
});</pre>

                <script>
                    require ([
                        'sound'
                    ], function (sound) {
                        $(document).ready(function () {
                            sound.add('')
                        });
                    });
                </script>
            </section>

        </div>
        <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
        <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
        <script type="text/javascript">
            try {
                var pageTracker = _gat._getTracker("UA-30459282-1");
                pageTracker._trackPageview();
            } catch(err) {}
        </script>

    </body>
</html>